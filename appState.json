{"EDITOR_STATE":{"allProjectFiles":{"a21238a9-bbbd-491a-baf0-25f2228223bd":{"id":"a21238a9-bbbd-491a-baf0-25f2228223bd","parent":null,"name":"TestDatastoreGQLQuery","type":"DIRECTORY","isDirectory":true,"children":["f9056448-6b31-4571-a4f8-819d896857ac","6ca58c75-ef68-4ede-8cad-5c9f715781a2"],"isRemovable":false,"filePath":"TestDatastoreGQLQuery"},"f9056448-6b31-4571-a4f8-819d896857ac":{"id":"f9056448-6b31-4571-a4f8-819d896857ac","parent":"a21238a9-bbbd-491a-baf0-25f2228223bd","name":"lambda.js","type":"LAMBDA_FILE","isDirectory":false,"children":[],"isRemovable":true,"filePath":"TestDatastoreGQLQuery/lambda.js","code":"let AWS = require('aws-sdk');\nlet _auth = require('./Authorizer');\nlet google = require('googleapis').google;\nconst datastore = google.datastore('v1');\nexports.handler = function (event, context, callback) {\n\tdatastore.projects.runQuery({\n\t\tprojectId: process.env.GCLOUD_PROJECT_ID,\n\t\tresource: {\n\t\t\tgqlQuery: {\n\t\t\t\tqueryString: \"SELECT*FROM Testing1\",\n\t\t\t\tallowLiterals: true,\n\t\t\t\tnamedBindings: {\n\n\t\t\t\t},\n\t\t\t\tpositionalBindings: [\n\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t}).then(response => {\n\t\tconsole.log(response.data);           // successful response\n        /*\n        response.data = {\n            \"batch\": {\n                \"entityResultType\": \"FULL\",\n                \"endCursor\": \"<base64-encoded>\",\n                \"entityResults\": [\n                    {\n                        \"entity\": {\n                            \"key\": {\n                                \"partitionId\": {\n                                    \"projectId\": \"<project>\"\n                                },\n                                \"path\": [{\n                                        \"kind\": \"<kind>\",\n                                        \"name\": \"<name>\"\n                                    }\n                                ]\n                            },\n                            \"properties\": {\n                                \"<key-1>\": {\n                                    \"<type-1>\": \"<value-1>\"\n                                },\n                                ...\n                            }\n                        },\n                        \"cursor\": \"<cursor>\",\n                        \"version\": \"<version-timestamp>\"\n                    },\n                    ...\n                ]\n            },\n            \"query\": {\n                \"kind\": <kind-spec>,\n                \"filter\": {\n                    \"propertyFilter\": <property-spec; property, op and value>\n                }\n            }\n        }\n        */\n\t})\n\t\t.catch(err => {\n\t\t\tconsole.log(err, err.stack); // an error occurred\n\t\t});\n\n\n\tcallback(null, 'Successfully executed');\n}","triggers":[{"resourceName":"apigusEast1TestGCPDatastoreGQLQueryany","config":{}}],"config":{"memory":128,"timeout":60,"runtime":"nodejs8.10"},"version":6,"syncVersion":4,"testCases":{"e709fa92-c930-4319-8c44-a7f624745d01":{"id":"e709fa92-c930-4319-8c44-a7f624745d01","name":"Unnamed event","functionId":"f9056448-6b31-4571-a4f8-819d896857ac","event":"{\n    \"key1\": \"value1\",\n    \"key2\": \"value2\",\n    \"key3\": \"value3\"\n}"}},"references":["6ca58c75-ef68-4ede-8cad-5c9f715781a2"]},"6ca58c75-ef68-4ede-8cad-5c9f715781a2":{"id":"6ca58c75-ef68-4ede-8cad-5c9f715781a2","parent":"a21238a9-bbbd-491a-baf0-25f2228223bd","name":"Authorizer.js","type":"JS_FILE","isDirectory":false,"children":[],"isRemovable":true,"filePath":"TestDatastoreGQLQuery/Authorizer.js","code":"const google = require(\"googleapis\").google;\n\nconst key = JSON.parse(process.env.GCLOUD_SERVICE_TOKEN);\nconst jwtClient = new google.auth.JWT({\n    email: key.client_email,\n    key: key.private_key,\n    scopes: [\"https://www.googleapis.com/auth/cloud-platform\"]\n});\ngoogle.options({auth: jwtClient, project: process.env.GCLOUD_PROJECT_ID});","triggers":[],"references":[]}},"rootNode":"a21238a9-bbbd-491a-baf0-25f2228223bd","openFiles":["f9056448-6b31-4571-a4f8-819d896857ac"],"currentFileId":"f9056448-6b31-4571-a4f8-819d896857ac","resources":{"apigusEast1TestGCPDatastoreGQLQueryany":{"name":"apigusEast1TestGCPDatastoreGQLQueryany","type":"API_GATEWAY","config":{"selectedRegion":"us-east-1","apiMode":0,"apiName":"TestGCPDatastore","endpointType":"EDGE","resourceMode":0,"resourceName":"GQLQuery","resourcePath":"/GQLQuery","restMethod":"ANY","proxyIntegration":false,"enableCORS":false,"stageMode":0,"stageName":"test"},"globallyEditable":true},"datastore":{"name":"datastore","type":"datastore","config":{},"globallyEditable":false}},"envVariables":[{"lambdaId":"all","varKey":"SIGMA_AWS_ACC_ID","varValue":null,"shouldPersist":false,"editable":false},{"lambdaId":"all","varKey":"GCLOUD_SERVICE_TOKEN","varValue":null,"shouldPersist":false,"editable":true,"isEditable":true},{"lambdaId":"all","varKey":"GCLOUD_PROJECT_ID","varValue":null,"shouldPersist":false,"editable":true,"isEditable":true}],"packageJSON":{"dependencies":{"aws-sdk":{"name":"aws-sdk","version":"2.176.0","notRemovable":true},"googleapis":{"name":"googleapis","version":"29.0.0","notRemovable":false}}},"lambdaId":"f9056448-6b31-4571-a4f8-819d896857ac","additionalFiles":[]},"PROJECT_META":{"projectName":"TestDatastoreGQLQuery","projectDescription":"Test GQL Query","projectVersion":"1.0.0","projectRegion":"us-east-1","repoName":"TestDatastoreGQLQuery","repoUrl":"https://github.com/Kumudikatest/TestDatastoreGQLQuery","lastSave":1528286006550}}